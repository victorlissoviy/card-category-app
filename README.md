# Програма Card-Category

## Опис

Цей проект є RESTful API на основі Spring Boot, який керує картками та категоріями. Система дозволяє користувачам створювати, оновлювати та видаляти як картки, так і категорії. Картка може бути пов’язана з декількома категоріями, а категорія може належати до кількох карток, реалізуючи зв’язок «багато до багатьох».
## Технології

- Java 22
- Spring Boot
- Spring Data JPA
- Spring Security

## Особливості

- **Керування картками**:
	- Створення, оновлення, видалення карток.
	- Кожна картка може мати кілька категорій.

- **Управління категоріями**:
	- Створення, оновлення, видалення категорій.
	- Категорії можуть належати до кількох карток.

- **Базова автентифікація**:
	- Усі кінцеві точки API захищено за допомогою базової автентифікації.
	- Облікові дані користувача налаштовані в середовищі.

## API

### Картка

1. **Отримати всі картки**
	- **URL**: `/card/api/all`
	- **Метод**: `GET`
	- **Опис**: отримати всі картки.
	- **Авторизація**: Basic авторизація

2. **Отримати картку за ID**
	- **URL**: `/card/api/{id}`
	- **Метод**: `GET`
	- **Опис**: Отримати конкретну картку за ідентифікатором.
	- **Авторизація**: Basic авторизація

3. **Створити картку**
	- **URL**: `/card/api/create`
	- **Метод**: `POST`
	- **Опис**: Створіть нову картку. Ідентифікатор буде згенеровано автоматично.
	- **Тіло**:
	  ```json
		{
			"name": "Card Name",
			"categories": [
				{
					"id": 1,
					"name": "Category 1"
				}
			]
		}
		```
	- **Авторизація**: Basic авторизація

4. **Оновити картку**
	- **URL**: `/card/api/update`
	- **Метод**: `POST`
	- **Опис**: Оновити наявну картку.
	- **Тіло**:
	  ```json
		{
			"id": 1,
			"name": "Updated Card Name",
			"categories": [
				{
					"id": 1,
					"name": "Updated Category"
				}
			]
		}
		```
	- **Авторизація**: Basic авторизація

5. **Видалити картку**
	- **URL**: `/card/api/delete/{id}`
	- **Метод**: `GET`
	- **Опис**: Видалення картки за її ідентифікатором.
	- **Авторизація**: Basic авторизація

### Категорія

1. **Отримати всі категорії**
	- **URL**: `/category/api/all`
	- **Метод**: `GET`
	- **Опис**: Отримати всі категорії.
	- **Авторизація**: Basic авторизація

2. **Отримати категорію за ідентифікатором**
	- **URL**: `/category/api/{id}`
	- **Метод**: `GET`
	- **Опис**: Отримати певну категорію за ідентифікатором.
	- **Авторизація**: Basic авторизація

3. **Створення категорії**
	- **URL**: `/category/api/create`
	- **Метод**: `POST`
	- **Опис**: Створити нову категорію.
	- **Тіло**:
	  ```json
		{
			"name": "Category Name"
		}
		```
	- **Авторизація**: Basic авторизація

4. **Оновлення категорії**
	- **URL**: `/category/api/update`
	- **Метод**: `POST`
	- **Опис**: Оновити існуючу категорію.
	- **Тіло**:
	  ```json
		{
			"id": 1,
			"name": "Updated Category Name"
		}
		```
	- **Авторизація**: Basic авторизація

5. **Видалити категорію**
	- **URL**: `/category/api/delete/{id}`
	- **Метод**: `GET`
	- **Опис**: Видалити категорію за її ідентифікатором.
	- **Авторизація**: Basic авторизація

## Безпека

Усі API захищені базовою автентифікацією. Ви повинні вказати дійсне ім’я користувача та пароль для доступу до будь-якого з маршрутів API.

## Необхідно для запуску

Для запуску програми необхідно вказати наступні змінні середовища:

- **DB_USERNAME**: Ім'я користувача бази даних PostgreSQL.
- **DB_PASSWORD**: Пароль для доступу до бази даних PostgreSQL.
- **USER**: Ім'я користувача для базової авторизації в API.
- **PASS**: Пароль для доступу до API через базову авторизацію.

### Змінні середовища для запуску програми:

```bash
DB_USERNAME=postgres
DB_PASSWORD=password
USER=user
PASS=pass
```

### Змінні середовища для тестування:

```bash
DB_USERNAME_TEST=postgres
DB_PASSWORD_TEST=password
```

## Бази даних

- Основна база даних для програми: `card_category`.
- База даних для тестування: `card_category_test`.

## Необхідні дії до запуску

1. Встановіть PostgreSQL та створіть базу даних `card_category` для основного запуску та `card_category_test` для тестування.
2. Вкажіть необхідні змінні середовища.